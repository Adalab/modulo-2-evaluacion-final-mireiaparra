{"version":3,"sources":["0_querys.js","1_search.js","2_fav.js","3_localStorage.js","main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["\"use strict\";\nconst allList = document.querySelector(\".js-allCharactersList\");\nconst favList = document.querySelector(\".js-favCharactersList\")\nconst favSection = document.querySelector(\".js-favSection\");\nconst searchBtn = document.querySelector(\".js-searchBtn\");\nconst searchInput = document.querySelector(\".js-searchInput\");\nconst container = document.querySelector(\".js-main\");\n\n\n","\"use strict\";\nfunction handleClick(ev) {\n    ev.preventDefault;\n\n    const searchCharactersName = characters.filter((eachCharacter) => eachCharacter.name.toLowerCase().includes(searchInput.value.toLowerCase()));\n    const searchCharactersStatus = characters.filter((eachCharacter) => eachCharacter.status.toLowerCase().includes(searchInput.value.toLowerCase()));\n\n    let filteredCharacters = searchCharactersName.concat(searchCharactersStatus);\n\n    allList.innerHTML = \"\";\n    paintCharacters(filteredCharacters, allList);\n    }\n\n\nsearchBtn.addEventListener('click', handleClick);","\"use strict\";\nlet favCharacters = [];\n\nfunction paintFav(ev){\n    let favElement =  ev.target.parentElement;\n    // favElement.classList.toggle(\"fav\");\n\n    //Encontrar el objeto según el click que haga\n    const findFav = characters.find((eachChar) => eachChar.char_id == parseInt(favElement.id));\n\n    //Encontrar la posición del objeto en el que he hecho click en el array\n    const isFavIndex = favCharacters.findIndex((eachFav) => eachFav.char_id == parseInt(favElement.id));\n\n    //Comprobar si el objeto NO estaba en el array y añadirlo o quitarlo si SÍ estaba\n    if (isFavIndex === -1) {\n        favCharacters.push(findFav);\n    } else {\n        favCharacters.splice(isFavIndex, 1);\n    }\n    setLocalSt();\n    favList.innerHTML = '';\n\n    if (favCharacters === []) {\n        favSection.classList.add(\"hidden\");\n    } else {\n        favSection.classList.remove(\"hidden\");\n        paintCharacters(favCharacters, favList, \"fav\");\n        styleFav();\n    \n    const removeFavBtnNode = document.querySelectorAll(\".removeFav\");\n    const removeFavBtns = Array.prototype.slice.call(removeFavBtnNode);\n    console.log(removeFavBtns);\n\n    for (let i = 0; i < removeFavBtns.length; i++) {\n        removeFavBtns[i].addEventListener('click', handleClickRemove);\n    }\n    }\n\n}\n\n\nfunction styleFav(){\n    container.classList.add(\"main\");\n    const favArticles = document.querySelectorAll(\".fav\");\n    // console.log(favArticles);\n    for (const favArticle of favArticles) {\n        const removeFavBtn = document.createElement(\"p\");\n        removeFavBtn.classList.add(\"removeFav\");\n        const removeFavText = document.createTextNode(\"X\");\n        removeFavBtn.appendChild(removeFavText);\n        favArticle.appendChild(removeFavBtn);\n    }\n}\n\nfunction handleClickFav(ev) {\n    ev.preventDefault;\n   paintFav(ev);\n}\n\nallList.addEventListener('click', handleClickFav);\n\n\n\nfunction handleClickRemove(ev){\n ev.preventDefault;\n    console.log(\"he hecho click\", ev.target.parentElement);\n const isFavIndex = favCharacters.findIndex((eachFav) => parseInt(ev.target.parentElement));\n console.log(isFavIndex);\n favCharacters.splice(isFavIndex, 1);\n}\n","\"use strict\";\nlet favsLocal = JSON.parse(localStorage.getItem(\"favChars\"));\n\nfunction setLocalSt(){\n   localStorage.setItem(\"favChars\", JSON.stringify(favCharacters));\n}\n\nfunction paintLocalSt(){\n    if (favsLocal !== null) {\n        favSection.classList.remove(\"hidden\");\n        favCharacters = favsLocal;\n        paintCharacters(favsLocal, favList, \"fav\");\n        styleFav();     \n } \n}\n\n","\"use strict\";\nlet characters = [];\n\nfunction paintCharacters(charactersData, list, className) {\n  for (let i = 0; i < charactersData.length; i++) {\n    const liElement = document.createElement(\"li\");\n    const articleElement = document.createElement(\"article\");\n    articleElement.classList.add(className);\n    articleElement.setAttribute(\"id\", `${charactersData[i].char_id}`);\n   \n    const imgElement = document.createElement(\"img\");\n    articleElement.appendChild(imgElement);\n    const titleElement = document.createElement(\"h2\");\n    articleElement.appendChild(titleElement);\n    const textElement = document.createElement(\"p\");\n    articleElement.appendChild(textElement);\n\n    liElement.appendChild(articleElement);\n    list.appendChild(liElement);\n\n    const nameText = document.createTextNode(`${charactersData[i].name}`);\n    titleElement.appendChild(nameText);\n\n    imgElement.src = `${charactersData[i].img}`;\n    imgElement.alt = `Photo of ${charactersData[i].name}`;\n    imgElement.style.height = \"150px\";\n    imgElement.style.width = \"110px\";\n\n    const statusText = document.createTextNode(`${charactersData[i].status}`);\n    textElement.appendChild(statusText);\n  }\n}\n\nfunction getCharacter() {\n  fetch(\"https://breakingbadapi.com/api/characters\")\n    .then((response) => response.json())\n    .then((data) => {\n      characters = data;\n      paintCharacters(data, allList, \"characters__back\");\n    });\n}\n\n\n//Al cargar la página\ngetCharacter();\npaintLocalSt();\n"]}